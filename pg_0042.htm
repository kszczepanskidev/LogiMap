<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.verypdf.com/ -->
<html>
<head>
<title>pg_0042</title>

<style>
<!-- 
select {font-size:12px;}
A:link {text-decoration: none; color: blue}
A:visited {text-decoration: none; color: purple}
A:active {text-decoration: red}
A:hover {text-decoration: underline; color:red}
-->
</style>
<script TYPE="text/javascript"> 
<!-- hide 
function killerrors()
{ 
return true; 
} 
window.onerror = killerrors; 
// --> 
</script>
<style type="text/css">
<!--
.ft0{font-style:normal;font-weight:normal;font-size:13px;font-family:Times New Roman;color:#000000;}
.ft1{font-style:normal;font-weight:normal;font-size:16px;font-family:Times New Roman;color:#000000;}
.ft2{font-style:normal;font-weight:bold;font-size:16px;font-family:Arial;color:#000000;}
.ft3{font-style:normal;font-weight:normal;font-size:12px;font-family:Consolas;color:#5c5c5c;}
.ft4{font-style:normal;font-weight:normal;font-size:12px;font-family:Arial;color:#5c5c5c;}
.ft5{font-style:normal;font-weight:bold;font-size:12px;font-family:Times New Roman;color:#006699;}
.ft6{font-style:normal;font-weight:normal;font-size:12px;font-family:Times New Roman;color:#000000;}
.ft7{font-style:normal;font-weight:normal;font-size:12px;font-family:Times New Roman;color:#0000ff;}
.ft8{font-style:normal;font-weight:normal;font-size:12px;font-family:Times New Roman;color:#c00000;}
.ft9{font-style:normal;font-weight:normal;font-size:16px;font-family:Verdana;color:#000000;}
.ft10{font-style:normal;font-weight:normal;font-size:13px;font-family:Arial;color:#000000;}
-->
</style>
</head>
<body vlink="#FFFFFF" link="#FFFFFF" bgcolor="#ffffff">

<script TYPE="text/javascript">
var currentpos,timer; 
function initialize() 
{ 
timer=setInterval("scrollwindow()",10);
} 
function sc(){
clearInterval(timer); 
}
function scrollwindow() 
{ 
currentpos=document.body.scrollTop; 
window.scroll(0,++currentpos); 
if (currentpos != document.body.scrollTop) 
sc();
} 
document.onmousedown=sc
document.ondblclick=initialize
</script>
<div style="position:absolute;top:0;left:0"><img width="827" height="1170" src="pg_0042.jpg" ALT=""></div>
<div style="position:absolute;top:51;left:108"><span class="ft0">Implementacja aplikacji mobilnej </span></div>
<div style="position:absolute;top:69;left:108"><span class="ft0"> ____________________________________________________________________________________ </span></div>
<div style="position:absolute;top:66;left:703"><span class="ft1"> </span></div>
<div style="position:absolute;top:110;left:118"><span class="ft1"> </span></div>
<div style="position:absolute;top:1106;left:118"><span class="ft0"> </span></div>
<div style="position:absolute;top:1106;left:399"><span class="ft0"> strona 42/51</span></div>
<div style="position:absolute;top:1103;left:468"><span class="ft1"> </span></div>
<div style="position:absolute;top:130;left:118"><span class="ft2">8.4  Komunikacja z serwerem </span></div>
<div style="position:absolute;top:157;left:118"><span class="ft1">Do implementacji komunikacji z serwerem zostala wykorzystana zawarta w Javie klasa </span></div>
<div style="position:absolute;top:179;left:118"><span class="ft1">HttpURLConnection. Umozliwia ona wysylanie oraz odbieranie danych dowolnego typu </span></div>
<div style="position:absolute;top:201;left:118"><span class="ft1">i rozmiaru.   </span></div>
<div style="position:absolute;top:223;left:118"><span class="ft1">W opisywanej aplikacji wykorzystywane sa dwa typy zadan HTTP. Za pomoca metody </span></div>
<div style="position:absolute;top:245;left:118"><span class="ft1">GET dane sa pobierane, a POST sluzy do aktualizacji istniejacych danych na serwerze. </span></div>
<div style="position:absolute;top:276;left:143"><span class="ft3">1.</span></div>
<div style="position:absolute;top:276;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:276;left:168"><span class="ft5"> final</span></div>
<div style="position:absolute;top:276;left:206"><span class="ft6"> String basicAuth = </span></div>
<div style="position:absolute;top:276;left:356"><span class="ft7">&quot;Basic &quot;</span></div>
<div style="position:absolute;top:276;left:416"><span class="ft6"> + Base64.encodeToString((username + </span></div>
<div style="position:absolute;top:276;left:693"><span class="ft7">&quot;:&quot;</span></div>
<div style="position:absolute;top:276;left:716"><span class="ft6"> + </span></div>
<div style="position:absolute;top:293;left:168"><span class="ft6">password).getBytes(), Base64.NO_WRAP);  </span></div>
<div style="position:absolute;top:289;left:468"><span class="ft1"> </span></div>
<div style="position:absolute;top:310;left:143"><span class="ft3">2.</span></div>
<div style="position:absolute;top:310;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:310;left:168"><span class="ft6">             URL url_address= </span></div>
<div style="position:absolute;top:310;left:386"><span class="ft5">new</span></div>
<div style="position:absolute;top:310;left:408"><span class="ft6"> URL(</span></div>
<div style="position:absolute;top:310;left:446"><span class="ft7">&quot;https://logimap-server.herokuapp.com/&quot;</span></div>
<div style="position:absolute;top:310;left:738"><span class="ft6"> </span></div>
<div style="position:absolute;top:327;left:168"><span class="ft6">+  params[</span></div>
<div style="position:absolute;top:327;left:243"><span class="ft8">0</span></div>
<div style="position:absolute;top:327;left:251"><span class="ft6">]);  </span></div>
<div style="position:absolute;top:323;left:288"><span class="ft1"> </span></div>
<div style="position:absolute;top:344;left:143"><span class="ft3">3.</span></div>
<div style="position:absolute;top:344;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:344;left:168"><span class="ft6">             HttpURLConnection urlConnection = (HttpURLConnection) </span></div>
<div style="position:absolute;top:361;left:168"><span class="ft6">url_address.openConnection();  </span></div>
<div style="position:absolute;top:357;left:401"><span class="ft1"> </span></div>
<div style="position:absolute;top:378;left:143"><span class="ft3">4.</span></div>
<div style="position:absolute;top:378;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:378;left:168"><span class="ft6">             urlConnection.setRequestProperty(</span></div>
<div style="position:absolute;top:378;left:506"><span class="ft7">&quot;Authorization&quot;</span></div>
<div style="position:absolute;top:378;left:618"><span class="ft6">, basicAuth);  </span></div>
<div style="position:absolute;top:374;left:731"><span class="ft1"> </span></div>
<div style="position:absolute;top:395;left:143"><span class="ft3">5.</span></div>
<div style="position:absolute;top:395;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:395;left:168"><span class="ft6">             </span></div>
<div style="position:absolute;top:395;left:258"><span class="ft5">try</span></div>
<div style="position:absolute;top:395;left:281"><span class="ft6"> {  </span></div>
<div style="position:absolute;top:391;left:311"><span class="ft1"> </span></div>
<div style="position:absolute;top:413;left:143"><span class="ft3">6.</span></div>
<div style="position:absolute;top:413;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:413;left:168"><span class="ft6">                 BufferedReader bufferedReader = </span></div>
<div style="position:absolute;top:413;left:528"><span class="ft5">new</span></div>
<div style="position:absolute;top:413;left:551"><span class="ft6"> BufferedReader(</span></div>
<div style="position:absolute;top:413;left:671"><span class="ft5">new</span></div>
<div style="position:absolute;top:413;left:693"><span class="ft6"> </span></div>
<div style="position:absolute;top:429;left:168"><span class="ft6">InputStreamReader(urlConnection.getInputStream()));  </span></div>
<div style="position:absolute;top:425;left:566"><span class="ft1"> </span></div>
<div style="position:absolute;top:447;left:143"><span class="ft3">7.</span></div>
<div style="position:absolute;top:447;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:447;left:168"><span class="ft6">                 StringBuilder stringBuilder = </span></div>
<div style="position:absolute;top:447;left:513"><span class="ft5">new</span></div>
<div style="position:absolute;top:447;left:536"><span class="ft6"> StringBuilder();  </span></div>
<div style="position:absolute;top:443;left:678"><span class="ft1"> </span></div>
<div style="position:absolute;top:465;left:143"><span class="ft3">8.</span></div>
<div style="position:absolute;top:465;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:465;left:168"><span class="ft6">                 String line;  </span></div>
<div style="position:absolute;top:461;left:393"><span class="ft1"> </span></div>
<div style="position:absolute;top:482;left:143"><span class="ft3">9.</span></div>
<div style="position:absolute;top:482;left:157"><span class="ft4"> </span></div>
<div style="position:absolute;top:482;left:168"><span class="ft6">                 </span></div>
<div style="position:absolute;top:482;left:288"><span class="ft5">while</span></div>
<div style="position:absolute;top:482;left:326"><span class="ft6"> ((line = bufferedReader.readLine()) != </span></div>
<div style="position:absolute;top:482;left:626"><span class="ft5">null</span></div>
<div style="position:absolute;top:482;left:656"><span class="ft6">) {  </span></div>
<div style="position:absolute;top:478;left:693"><span class="ft1"> </span></div>
<div style="position:absolute;top:500;left:143"><span class="ft3">10.</span></div>
<div style="position:absolute;top:500;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:500;left:168"><span class="ft6">                    stringBuilder.append(line).append(</span></div>
<div style="position:absolute;top:500;left:573"><span class="ft7">&quot;\n&quot;</span></div>
<div style="position:absolute;top:500;left:603"><span class="ft6">);  </span></div>
<div style="position:absolute;top:496;left:633"><span class="ft1"> </span></div>
<div style="position:absolute;top:517;left:143"><span class="ft3">11.</span></div>
<div style="position:absolute;top:517;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:517;left:168"><span class="ft6">                }  </span></div>
<div style="position:absolute;top:513;left:311"><span class="ft1"> </span></div>
<div style="position:absolute;top:535;left:143"><span class="ft3">12.</span></div>
<div style="position:absolute;top:535;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:535;left:168"><span class="ft6">                bufferedReader.close();  </span></div>
<div style="position:absolute;top:531;left:476"><span class="ft1"> </span></div>
<div style="position:absolute;top:552;left:143"><span class="ft3">13.</span></div>
<div style="position:absolute;top:552;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:552;left:168"><span class="ft6">                </span></div>
<div style="position:absolute;top:552;left:288"><span class="ft5">return</span></div>
<div style="position:absolute;top:552;left:333"><span class="ft6"> stringBuilder.toString();  </span></div>
<div style="position:absolute;top:548;left:543"><span class="ft1"> </span></div>
<div style="position:absolute;top:570;left:143"><span class="ft3">14.</span></div>
<div style="position:absolute;top:570;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:570;left:168"><span class="ft6">            }  </span></div>
<div style="position:absolute;top:566;left:281"><span class="ft1"> </span></div>
<div style="position:absolute;top:587;left:143"><span class="ft3">15.</span></div>
<div style="position:absolute;top:587;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:587;left:168"><span class="ft6">            </span></div>
<div style="position:absolute;top:587;left:258"><span class="ft5">finally</span></div>
<div style="position:absolute;top:587;left:311"><span class="ft6">{  </span></div>
<div style="position:absolute;top:583;left:333"><span class="ft1"> </span></div>
<div style="position:absolute;top:605;left:143"><span class="ft3">16.</span></div>
<div style="position:absolute;top:605;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:605;left:168"><span class="ft6">                urlConnection.disconnect();  </span></div>
<div style="position:absolute;top:601;left:506"><span class="ft1"> </span></div>
<div style="position:absolute;top:622;left:143"><span class="ft3">17.</span></div>
<div style="position:absolute;top:622;left:164"><span class="ft4"> </span></div>
<div style="position:absolute;top:622;left:168"><span class="ft6">            } </span></div>
<div style="position:absolute;top:618;left:273"><span class="ft1"> </span></div>
<div style="position:absolute;top:641;left:118"><span class="ft9"> </span></div>
<div style="position:absolute;top:665;left:118"><span class="ft1"> </span></div>
<div style="position:absolute;top:687;left:191"><span class="ft0"> Listing 6 Wyk onanie zadania GET oraz pobranie odpowiedzi od serwera</span></div>
<div style="position:absolute;top:688;left:636"><span class="ft10">  </span></div>
<div style="position:absolute;top:719;left:118"><span class="ft1">W  obu  przypadkach  polaczenie  jest  uwierzytelniane  za  pomoca  zapisanych  danych </span></div>
<div style="position:absolute;top:741;left:118"><span class="ft1">uzytkownika,  które  przesylane  sa  w  naglówku  zadania. </span></div>
<div style="position:absolute;top:763;left:118"><span class="ft1">W  sytuacji  pobierania  danych,  po  wywolaniu  odpowiedniego  adresu  do  serwera </span></div>
<div style="position:absolute;top:785;left:118"><span class="ft1">odczytywany  jest  strumien  danych  zawierajacy  otrzymana  odpowiedz. </span></div>
<div style="position:absolute;top:808;left:118"><span class="ft1">W  celu  aktualizacji  danych,  do  odpowiedniego  strumienia  wpisywana  jest </span></div>
<div style="position:absolute;top:830;left:118"><span class="ft1">zmodyfikowana  wersja  obiektu.  W  odpowiedzi  otrzymujemy  poprawione  dane,  co </span></div>
<div style="position:absolute;top:852;left:118"><span class="ft1">pozwala  sprawdzic  czy  proces  aktualizacji  przebiegl  prawidlowo. </span></div>
<div style="position:absolute;top:874;left:118"><span class="ft1">Dane  wykorzystywane  podczas  komunikacji  z  serwerem  maja  format  JSON,  dzieki </span></div>
<div style="position:absolute;top:896;left:118"><span class="ft1">czemu  zarówno  aplikacja  mobilna  jak  i  serwerowa  sa  w  stanie  w  latwy  sposób  je </span></div>
<div style="position:absolute;top:918;left:118"><span class="ft1">przetworzyc. </span></div>
<div style="position:absolute;top:947;left:118"><span class="ft1"> </span></div>
<div style="position:absolute;top:966;left:118"><span class="ft1"> </span></div>
<script TYPE="text/javascript">
			var currentZoom = parent.ltop.currentZoom;
			if(currentZoom != undefined)
				document.body.style.zoom=currentZoom/100;
			</script>
</body>
</html>